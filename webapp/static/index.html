<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MotionDriver Control</title>
    <link rel="stylesheet" href="/static/styles.css" />
    <script src="/static/app.js" defer></script>
</head>

<body>
    <header>
        <h1>MotionDriver Control Panel</h1>
        <p>Send UART commands to the Cheddar MotionDriver over a local web interface.</p>
    </header>

    <main>
        <section class="panel">
            <h2>Servo Channels</h2>
            <p>Adjust pulse widths (500-2500 μs). Values outside controller limits will be clamped by the firmware.</p>
            <div id="servo-controls" class="grid"></div>
        </section>

        <section class="panel">
            <h2>Motor Control</h2>
            <form id="motor-form">
                <div class="form-row">
                    <label for="motor-target">Target</label>
                    <select id="motor-target" name="target">
                        <option value="ALL">ALL</option>
                        <option value="0">Motor 0</option>
                        <option value="1">Motor 1</option>
                        <option value="2">Motor 2</option>
                        <option value="3">Motor 3</option>
                        <option value="4">Motor 4</option>
                        <option value="5">Motor 5</option>
                    </select>
                </div>
                <div class="form-row">
                    <label for="motor-direction">Direction</label>
                    <select id="motor-direction" name="direction">
                        <option value="FORWARD">Forward</option>
                        <option value="BACKWARD">Backward</option>
                    </select>
                </div>
                <div class="form-row">
                    <label for="motor-speed">Speed (0.0 – 1.0)</label>
                    <input type="range" id="motor-speed" name="speed" min="0" max="1" step="0.05" value="1" />
                    <span id="motor-speed-value">1.00</span>
                </div>
                <div class="form-actions">
                    <button type="submit" class="primary">Run</button>
                    <button type="button" id="motor-start">Start</button>
                    <button type="button" id="motor-stop" class="danger">Stop</button>
                </div>
            </form>
        </section>

        <section class="panel">
            <h2>Sweep &amp; Telemetry</h2>
            <div class="form-row">
                <label for="sweep-range">Sweep Range Token</label>
                <input type="text" id="sweep-range" placeholder="ALL, 0-5, 2" />
            </div>
            <div class="form-actions">
                <button type="button" id="sweep-enable">Enable Sweep</button>
                <button type="button" id="sweep-disable">Disable Sweep</button>
            </div>
            <hr />
            <div class="form-actions">
                <button type="button" id="log-enable">Enable Telemetry</button>
                <button type="button" id="log-disable">Disable Telemetry</button>
            </div>
        </section>

        <section class="panel">
            <h2>Health Check</h2>
            <button type="button" id="ping">Send PING</button>
        </section>

        <section class="panel">
            <h2>Status</h2>
            <div id="status" class="status-box">Ready.</div>
        </section>
    </main>

    <footer>
        <p>Cheddar MotionDriver · Localhost control utility</p>
    </footer>
</body>

</html>
